@import '../../styles/typography';

@keyframes hide {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes slide-in {
  from {
    transform: translateX(calc(100% + 2rem));
  }
  to {
    transform: translateX(0);
  }
}

@keyframes swipe-out {
  from {
    transform: translateX(var(--radix-toast-swipe-end-x));
  }
  to {
    transform: translateX(calc(100% + 2rem));
  }
}

.Root {
  --zui-toast-background-color: #18101e;
  --zui-toast-border-color: #4e2667;
  --zui-toast-icon-color: #bf7af0;
  --zui-toast-close-icon-color: #ededef;
  --zui-toast-button-color: #01f4cb;
  --zui-toast-title-color: #ededef;
  --zui-toast-description-color: #ededef;

  &[data-variant='success'] {
    --zui-toast-background-color: #0f291e;
    --zui-toast-border-color: #164430;
    --zui-toast-icon-color: #58c573;
    --zui-toast-title-color: #58c573;
  }

  &[data-variant='error'] {
    --zui-toast-background-color: #3c181a;
    --zui-toast-border-color: #671e22;
    --zui-toast-icon-color: #ff6369;
    --zui-toast-button-color: #ff6369;
    --zui-toast-title-color: #ff6369;
  }

  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 24px 8px 24px 24px;
  background: var(--zui-toast-background-color);
  border: 1px solid var(--zui-toast-border-color);
  border-radius: 8px;
  box-shadow: 8px 6px 24px rgba(4, 3, 4, 0.6);

  @media (prefers-reduced-motion: no-preference) {
    &[data-state='open'] {
      animation: slide-in 150ms cubic-bezier(0.16, 1, 0.3, 1);
    }
    &[data-state='closed'] {
      animation: hide 100ms ease-in;
    }
    &[data-swipe='move'] {
      transform: translateX(var(--radix-toast-swipe-move-x));
    }
    &[data-swipe='cancel'] {
      transform: translateX(0);
      transition: transform 200ms ease-out;
    }
    &[data-swipe='end'] {
      animation: swipe-out 100ms ease-out;
    }
  }

  .Icon {
    color: var(--zui-toast-icon-color);
  }

  .Content {
    display: flex;
    flex-direction: column;
    flex: 1;

    .Title {
      color: var(--zui-toast-title-color);
      font-size: $size-default;
      font-weight: $font-weight-bold;
      line-height: 1.5;
    }

    .Description {
      color: var(--zui-toast-description-color);
      font-size: $size-tiny;
      font-weight: $font-weight-regular;
      line-height: 1.25;
    }
  }

  .Action {
    padding: 0 0.75rem;
    color: var(--zui-toast-button-color);
    text-transform: unset;
    background: unset;
    box-shadow: unset;
    border: 1px solid var(--zui-toast-button-color);

    > * {
      color: inherit;
    }

    &::before {
      box-shadow: unset;
    }

    &::after {
      border: unset;
    }
  }

  .Close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: unset;
    border: unset;
    border-left: 1px solid var(--zui-toast-border-color);

    .CloseIcon {
      color: var(--zui-toast-close-icon-color);
      cursor: pointer;
    }
  }
}

.Viewport {
  position: fixed;
  bottom: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 0;
  padding: 2rem;
  width: 30rem;
  max-width: 100vw;
  list-style: none;
  outline: none;
  z-index: 2147483647;
}
